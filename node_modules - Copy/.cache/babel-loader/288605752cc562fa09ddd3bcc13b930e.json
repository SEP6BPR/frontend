{"ast":null,"code":"import _slicedToArray from\"C:/Users/marwa/Desktop/Projects/sep6-frontend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useReducer,useEffect}from'react';import AppReducer from\"./AppReducer\";// initial state\nimport{jsx as _jsx}from\"react/jsx-runtime\";var initialState={watchlist:localStorage.getItem('watchlist')?JSON.parse(localStorage.getItem('watchlist')):[],watched:localStorage.getItem('watched')?JSON.parse(localStorage.getItem('watched')):[]};// create context\nexport var GlobalContext=/*#__PURE__*/createContext(initialState);// provider components\nexport var GlobalProvider=function GlobalProvider(props){var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem('watchlist',JSON.stringify(state.watchlist));localStorage.setItem(\"watched\",JSON.stringify(state.watched));},[state]);// actions\nvar addMovieToWatchlist=function addMovieToWatchlist(movie){//console.log(\"guci\");\ndispatch({type:\"ADD_MOVIE_TO_WATCHLIST\",payload:movie});};// to remove movie from watch list\nvar removeMovieFromWatchlist=function removeMovieFromWatchlist(id){dispatch({type:\"REMOVE_MOVIE_FROM_WATCHLIST\",payload:id});};var addMovieToWatched=function addMovieToWatched(movie){dispatch({type:\"ADD_MOVIE_TO_WATCHED\",payload:movie});};// move to watchlist from watched\nvar moveToWatchlist=function moveToWatchlist(movie){dispatch({type:\"MOVE_TO_WATCHLIST\",payload:movie});};// remove from wathed\nvar removeFromWatched=function removeFromWatched(id){dispatch({type:\"REMOVE_FROM_WATCHED\",payload:id});};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{watchlist:state.watchlist,watched:state.watched,addMovieToWatchlist:addMovieToWatchlist,removeMovieFromWatchlist:removeMovieFromWatchlist,addMovieToWatched:addMovieToWatched,moveToWatchlist:moveToWatchlist,removeFromWatched:removeFromWatched},children:props.children});};","map":{"version":3,"sources":["C:/Users/marwa/Desktop/Projects/sep6-frontend/frontend/src/context/GlobalState.js"],"names":["React","createContext","useReducer","useEffect","AppReducer","initialState","watchlist","localStorage","getItem","JSON","parse","watched","GlobalContext","GlobalProvider","props","state","dispatch","setItem","stringify","addMovieToWatchlist","movie","type","payload","removeMovieFromWatchlist","id","addMovieToWatched","moveToWatchlist","removeFromWatched","children"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,SAA3C,KAA2D,OAA3D,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA;2CACA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,SAAS,CAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAoCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAApC,CAAoF,EAD9E,CAEjBG,OAAO,CAAEJ,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAkCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAlC,CAAgF,EAFxE,CAArB,CAKI;AACA,MAAO,IAAMI,CAAAA,aAAa,cAAGX,aAAa,CAACI,YAAD,CAAnC,CAEP;AACA,MAAO,IAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CACrC,gBAA0BZ,UAAU,CAACE,UAAD,CAAaC,YAAb,CAApC,4CAAOU,KAAP,iBAAcC,QAAd,iBAEAb,SAAS,CAAC,UAAM,CACZI,YAAY,CAACU,OAAb,CAAqB,WAArB,CAAkCR,IAAI,CAACS,SAAL,CAAeH,KAAK,CAACT,SAArB,CAAlC,EACAC,YAAY,CAACU,OAAb,CAAqB,SAArB,CAAgCR,IAAI,CAACS,SAAL,CAAeH,KAAK,CAACJ,OAArB,CAAhC,EACH,CAHQ,CAGN,CAACI,KAAD,CAHM,CAAT,CAKJ;AACA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACnC;AACAJ,QAAQ,CAAC,CAACK,IAAI,CAAE,wBAAP,CAAiCC,OAAO,CAAEF,KAA1C,CAAD,CAAR,CACH,CAHD,CAKA;AACA,GAAMG,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,EAAD,CAAQ,CACrCR,QAAQ,CAAC,CAACK,IAAI,CAAE,6BAAP,CAAsCC,OAAO,CAAEE,EAA/C,CAAD,CAAR,CACH,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAL,KAAK,CAAI,CAC/BJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,sBAAR,CAAgCC,OAAO,CAAEF,KAAzC,CAAD,CAAR,CACH,CAFD,CAIA;AACA,GAAMM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAN,KAAK,CAAI,CAC7BJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,mBAAR,CAA6BC,OAAO,CAAEF,KAAtC,CAAD,CAAR,CACH,CAFD,CAIA;AACA,GAAMO,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAH,EAAE,CAAI,CAC5BR,QAAQ,CAAC,CAACK,IAAI,CAAE,qBAAP,CAA8BC,OAAO,CAACE,EAAtC,CAAD,CAAR,CACH,CAFD,CAKA,mBACI,KAAC,aAAD,CAAe,QAAf,EACI,KAAK,CAAE,CACHlB,SAAS,CAAES,KAAK,CAACT,SADd,CAEHK,OAAO,CAAEI,KAAK,CAACJ,OAFZ,CAGHQ,mBAAmB,CAAnBA,mBAHG,CAIHI,wBAAwB,CAAxBA,wBAJG,CAKHE,iBAAiB,CAAjBA,iBALG,CAMHC,eAAe,CAAfA,eANG,CAOHC,iBAAiB,CAAjBA,iBAPG,CADX,UAWKb,KAAK,CAACc,QAXX,EADJ,CAeH,CAjDU","sourcesContent":["import React, { createContext, useReducer, useEffect} from 'react';\r\nimport AppReducer from \"./AppReducer\";\r\n\r\n// initial state\r\nconst initialState = {\r\n    watchlist: localStorage.getItem('watchlist') ? JSON.parse(localStorage.getItem('watchlist')) : [],\r\n    watched: localStorage.getItem('watched') ? JSON.parse(localStorage.getItem('watched')) : [],\r\n};\r\n\r\n    // create context\r\n    export const GlobalContext = createContext(initialState);\r\n\r\n    // provider components\r\n    export const GlobalProvider = (props) => {\r\n        const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n        useEffect(() => {\r\n            localStorage.setItem('watchlist', JSON.stringify(state.watchlist))\r\n            localStorage.setItem(\"watched\", JSON.stringify(state.watched));\r\n        }, [state]);\r\n\r\n    // actions\r\n    const addMovieToWatchlist = (movie) => {\r\n        //console.log(\"guci\");\r\n        dispatch({type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie});\r\n    };\r\n\r\n    // to remove movie from watch list\r\n    const removeMovieFromWatchlist = (id) => {\r\n        dispatch({type: \"REMOVE_MOVIE_FROM_WATCHLIST\", payload: id});\r\n    };\r\n\r\n    const addMovieToWatched = movie => {\r\n        dispatch({ type: \"ADD_MOVIE_TO_WATCHED\", payload: movie});\r\n    };\r\n\r\n    // move to watchlist from watched\r\n    const moveToWatchlist = movie => {\r\n        dispatch({ type: \"MOVE_TO_WATCHLIST\", payload: movie});\r\n    };\r\n\r\n    // remove from wathed\r\n    const removeFromWatched = id => {\r\n        dispatch({type: \"REMOVE_FROM_WATCHED\", payload:id});\r\n    };\r\n\r\n\r\n    return (\r\n        <GlobalContext.Provider \r\n            value={{ \r\n                watchlist: state.watchlist, \r\n                watched: state.watched, \r\n                addMovieToWatchlist, \r\n                removeMovieFromWatchlist,\r\n                addMovieToWatched,\r\n                moveToWatchlist,\r\n                removeFromWatched,\r\n            }}\r\n        >\r\n            {props.children}\r\n        </GlobalContext.Provider>\r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}