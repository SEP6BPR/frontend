(this.webpackJsonpappy=this.webpackJsonpappy||[]).push([[0],{36:function(e,t,c){},55:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var a=c(5),n=c.n(a),s=c(37),i=c.n(s),r=c(24),l=c(11),o=c(19),d={scopes:["User.Read"]},j=c(30),h=c(4);var b=function(){var e=Object(o.e)().instance;return Object(h.jsx)(j.a,{variant:"secondary",className:"ml-auto",onClick:function(){return function(e){e.loginPopup(d).catch((function(e){console.error(e)}))}(e)},children:"Signin"})};var O=function(){var e=Object(o.e)().instance;return Object(h.jsx)(j.a,{variant:"secondary",className:"ml-auto",onClick:function(){return function(e){e.logoutPopup().catch((function(e){console.error(e)}))}(e)},children:"Signout"})},u=function(e){var t=Object(o.d)();return Object(h.jsxs)(h.Fragment,{children:[t?Object(h.jsx)(O,{}):Object(h.jsx)(b,{}),e.children]})};c(36);function m(){var e=Object(o.e)(),t=(e.instance,e.accounts),c=t[0]&&t[0].name,a=t[0]&&t[0].username;return fetch("http://not-pirate-bay.azurewebsites.net/user/movie_list/".concat(a)).then((function(e){return e.json()})).then((function(e){console.log(e)})),Object(h.jsxs)("h5",{id:"username",children:[" ",c]})}var x=function(){return Object(h.jsx)("header",{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"inner-content",children:[Object(h.jsx)("div",{className:"brand",children:Object(h.jsx)(r.b,{to:"/Add",children:"(NOT) PiratBay"})}),Object(h.jsxs)("ul",{className:"nav-links",children:[Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{to:"/",children:"Watch List"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{to:"/watched",children:"Watched"})}),Object(h.jsxs)("span",{id:"userDispaly",children:[Object(h.jsx)(o.a,{children:Object(h.jsx)(m,{})}),Object(h.jsx)(o.c,{})]}),Object(h.jsx)("li",{children:Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:Object(h.jsx)(u,{})})})})]})]})})})},f=c(15),v=c(25),p=c(12),N=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(p.a)(Object(p.a)({},e),{},{watchlist:[t.payload].concat(Object(v.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(p.a)(Object(p.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(p.a)(Object(p.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(v.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(p.a)(Object(p.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(v.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(p.a)(Object(p.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},g={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},w=Object(a.createContext)(g),y=function(e){var t=Object(a.useReducer)(N,g),c=Object(f.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(n.watchlist)),localStorage.setItem("watched",JSON.stringify(n.watched))}),[n]);return Object(h.jsx)(w.Provider,{value:{watchlist:n.watchlist,watched:n.watched,addMovieToWatchlist:function(e){s({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){s({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){s({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){s({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){s({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},_=function(e){var t=e.movie,c=e.type,n=Object(a.useContext)(w),s=n.removeMovieFromWatchlist,i=n.addMovieToWatched,r=n.moveToWatchlist,l=n.removeFromWatched;return Object(h.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t)},children:Object(h.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(h.jsx)("button",{className:"ctrl-btn",onClick:function(){return s(t.id)},children:Object(h.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(h.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(h.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t.id)},children:Object(h.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},M=function(e){var t=e.movie,c=e.type;return Object(h.jsxs)("div",{className:"movie-card",children:[Object(h.jsx)("div",{className:"overlay"}),t.poster_path?Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(h.jsx)("div",{className:"filler-poster"}),Object(h.jsx)(_,{type:c,movie:t})]})},T=function(){var e=Object(a.useContext)(w).watched;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"movie-page",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h1",{className:"heading",children:"Watched Movies"}),Object(h.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(h.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(h.jsx)(M,{movie:e,type:"watched"})}))}):Object(h.jsx)("h2",{className:"no-movies",children:"No movies in your list"})]})}),");"]})},W=function(){var e=Object(a.useContext)(w).watchlist;return Object(h.jsx)("div",{className:"movie-page",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h1",{className:"heading",children:"My Watchlist"}),Object(h.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(h.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(h.jsx)(M,{movie:e,type:"watchlist"})}))}):Object(h.jsx)("h2",{className:"no-movies",children:"No movies in your list"})]})})},C=function(e){var t=e.movie,c=Object(a.useContext)(w),n=c.addMovieToWatchlist,s=c.addMovieToWatched,i=c.watchlist,r=c.watched,l=i.find((function(e){return e.id===t.id})),o=r.find((function(e){return e.id===t.id})),d=!!l||!!o,j=!!o;return Object(h.jsxs)("div",{className:"result-card",children:[Object(h.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(h.jsx)("div",{className:"filler-poster"})}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h3",{className:"title",children:t.title}),Object(h.jsx)("h4",{className:"release-date",children:t.release_date?t.release_date.substring(0,4):"-"})]}),Object(h.jsxs)("div",{className:"controls",children:[Object(h.jsx)("button",{className:"btn",disabled:d,onClick:function(){return n(t)},children:"Add to Watchlist"}),Object(h.jsx)("button",{className:"btn",disabled:j,onClick:function(){return s(t)},children:"Add to Watched"})]})]})]})},S=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(f.a)(s,2),r=i[0],l=i[1];return Object(h.jsx)("div",{className:"add-page",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"add-content",children:[Object(h.jsx)("div",{className:"input-wrapper",children:Object(h.jsx)("input",{type:"text",placeholder:"Search for a movie",value:c,onChange:function(e){e.preventDefault(),n(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("3af5cabbd33dca0742569fb5d07d453f","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),r.length>0&&Object(h.jsx)("ul",{className:"results",children:r.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(C,{movie:e})},e.id)}))})]})})})};c(55);var E=function(){return Object(h.jsx)(y,{children:Object(h.jsxs)(r.a,{children:[Object(h.jsx)(x,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/",children:Object(h.jsx)(W,{})}),Object(h.jsx)(l.a,{path:"/watched",children:Object(h.jsx)(T,{})}),Object(h.jsx)(l.a,{path:"/add",children:Object(h.jsx)(S,{})})]})]})})},I=(c(56),new(c(58).a)({auth:{clientId:"de9130c0-8045-412d-bfe1-6e333c3c44f4",authority:"https://login.microsoftonline.com/7901565c-95f2-4d34-bca7-ee89bd8b39ff",redirectUri:"http://localhost:3000/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}}));i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(o.b,{instance:I,children:Object(h.jsx)(E,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.60380425.chunk.js.map